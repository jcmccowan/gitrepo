!function(e){"use strict";var t=function(e,t){this.cinit("userInlineHelp",e,t)};t.prototype=e.extend({},e.fn.popover.Constructor.prototype,{constructor:t,cinit:function(t,n,r){this.attr={};this.attr.me=(Math.random()*10+"").replace(/\D/g,"");this.attr.click_event_ns="click."+this.attr.me+" touchstart."+this.attr.me;if(!r)r={};r.trigger="manual";this.init(t,n,r);this.$element.on("click",this.options.selector,e.proxy(this.clickery,this))},show:function(){var e,t,n,r,i,s;if(this.hasContent()&&this.enabled){e=this.tip();this.setContent();if(this.options.animation){e.addClass("fade")}i=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement;t=/in/.test(i);e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body);n=this.getPosition(t);r=e[0].offsetHeight;s={top:n.top+n.height/2-r/4,left:n.left+n.width};e.css(s).addClass(i).addClass("in")}},clickery:function(t){if(t){t.preventDefault();t.stopPropagation()}this.options.class_name&&this.tip().addClass(this.options.class_name);this.toggle();if(this.isShown()){var n=this;e("body").on(this.attr.click_event_ns,function(e){if(!n.tip().has(e.target).length){n.clickery()}});this.tip().on("click",'[data-dismiss="userInlineHelp"]',e.proxy(this.clickery,this));typeof this.options.onShown=="function"&&this.options.onShown.call(this);this.$element.trigger("shown")}else{this.$element.removeAttr("data-userInlineHelp-open");this.options.esc_close&&e(document).unbind("keyup.clickery");e("body").off(this.attr.click_event_ns);if(typeof this.attr.tid=="number"){clearTimeout(this.attr.tid);delete this.attr.tid}typeof this.options.onHidden=="function"&&this.options.onHidden.call(this);this.$element.trigger("hidden")}},isShown:function(){return this.tip().hasClass("in")},setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title > span")[this.options.html?"html":"text"](t);e.find(".popover-content > *")[this.options.html?"html":"text"](n);e.removeClass("fade top bottom left right in")}});e.fn.userInlineHelp=function(n){return this.each(function(){var r=e(this),i=r.data("userInlineHelp"),s=typeof n=="object"&&n;if(!i)r.data("userInlineHelp",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.userInlineHelp.Constructor=t;e.fn.userInlineHelp.defaults=e.extend({},e.fn.popover.defaults,{onShown:null,onHidden:null,class_name:"",template:'<div class="popover userInlineHelp"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"><a class="close" data-dismiss="userInlineHelp" href="#">Close</a><span></span></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery)