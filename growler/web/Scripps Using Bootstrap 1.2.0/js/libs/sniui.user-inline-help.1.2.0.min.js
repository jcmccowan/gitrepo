!function(b){var a=function(d,c){this.cinit("userInlineHelp",d,c)};a.prototype=b.extend({},b.fn.popover.Constructor.prototype,{constructor:a,cinit:function(e,d,c){this.attr={};this.attr.me=((Math.random()*10)+"").replace(/\D/g,"");this.attr.click_event_ns="click."+this.attr.me+" touchstart."+this.attr.me;if(!c){c={}}c.trigger="manual";this.init(e,d,c);this.$element.on("click",this.options.selector,b.proxy(this.clickery,this))},show:function(){var f,c,h,g,d,e;if(this.hasContent()&&this.enabled){f=this.tip();this.setContent();if(this.options.animation){f.addClass("fade")}d=typeof this.options.placement=="function"?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement;c=/in/.test(d);f.remove().css({top:0,left:0,display:"block"}).appendTo(c?this.$element:document.body);h=this.getPosition(c);g=f[0].offsetHeight;e={top:h.top+h.height/2-g/4,left:h.left+h.width};f.css(e).addClass(d).addClass("in")}},clickery:function(d){if(d){d.preventDefault();d.stopPropagation()}this.options.class_name&&this.tip().addClass(this.options.class_name);this.toggle();if(this.isShown()){var c=this;b("body").on(this.attr.click_event_ns,function(f){if(!c.tip().has(f.target).length){c.clickery()}});this.tip().on("click",'[data-dismiss="userInlineHelp"]',b.proxy(this.clickery,this));typeof this.options.onShown=="function"&&this.options.onShown.call(this);this.$element.trigger("shown")}else{this.$element.removeAttr("data-userInlineHelp-open");this.options.esc_close&&b(document).unbind("keyup.clickery");b("body").off(this.attr.click_event_ns);if(typeof this.attr.tid=="number"){clearTimeout(this.attr.tid);delete this.attr.tid}typeof this.options.onHidden=="function"&&this.options.onHidden.call(this);this.$element.trigger("hidden")}},isShown:function(){return this.tip().hasClass("in")},setContent:function(){var e=this.tip(),d=this.getTitle(),c=this.getContent();e.find(".popover-title > span")[this.options.html?"html":"text"](d);e.find(".popover-content > *")[this.options.html?"html":"text"](c);e.removeClass("fade top bottom left right in")}});b.fn.userInlineHelp=function(c){return this.each(function(){var f=b(this),e=f.data("userInlineHelp"),d=typeof c=="object"&&c;if(!e){f.data("userInlineHelp",(e=new a(this,d)))}if(typeof c=="string"){e[c]()}})};b.fn.userInlineHelp.Constructor=a;b.fn.userInlineHelp.defaults=b.extend({},b.fn.popover.defaults,{onShown:null,onHidden:null,class_name:"",template:'<div class="popover userInlineHelp"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"><a class="close" data-dismiss="userInlineHelp" href="#">Close</a><span></span></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery);